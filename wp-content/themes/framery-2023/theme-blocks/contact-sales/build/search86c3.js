(()=>{function e(){return!(!window.history||!history.pushState)}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".js-grid-persons-search"),t=document.querySelector(".js-addressbook__search__form"),s=document.querySelector(".js-addressbook__search__input"),i=document.querySelector(".js-addressbook__search__submit"),r=document.querySelector(".js-addressbook__none"),n=document.querySelector(".js-addressbook__intro");null!==t&&null!==s&&null!==i&&null!==r?(t.addEventListener("submit",(function(t){t.preventDefault();const i=s.value.toLowerCase();let a=[];const o=e.querySelectorAll(".item");for(var c=0;c<o.length;c++)o[c].getAttribute("data-index")&&""!==o[c].getAttribute("data-index")&&a.push({item:o[c],data:o[c].getAttribute("data-index")});if(i&&""!==i){for(e.classList.add("is-active"),e.parentElement.classList.add("is-active"),c=0;c<a.length;c++)a[c].data.includes(i)?(a[c].item.classList.remove("item--search-disabled"),a[c].item.classList.add("item--search-active")):(a[c].item.classList.add("item--search-disabled"),a[c].item.classList.remove("item--search-active"));e.querySelectorAll(".item--search-active").length?(r.classList.add("none--hidden"),n&&n.classList.remove("item--search-disabled")):(r.classList.remove("none--hidden"),n&&n.classList.add("item--search-disabled"))}else for(e.parentElement.classList.remove("is-active"),e.classList.remove("is-active"),r.classList.add("none--hidden"),c=0;c<a.length;c++)a[c].item.classList.add("item--search-disabled"),a[c].item.classList.add("item--search-active")})),s.addEventListener("focus",(function(e){e.currentTarget.setAttribute("placeholder","")})),s.addEventListener("blur",(function(e){e.currentTarget.setAttribute("placeholder",e.currentTarget.getAttribute("data-placeholder"))})),s.addEventListener("search",(function(e){0===e.target.value.length&&(i&&i.click(),s&&s.classList.remove("is-not-empty"))})),s.addEventListener("keyup",(function(t){setTimeout((function(){t.target.value.length>0?(e.parentElement.classList.add("is-active"),t.target.classList.add("is-not-empty")):(e.parentElement.classList.remove("is-active"),t.target.classList.remove("is-not-empty"))}),100,e)})),s.addEventListener("keydown",(function(t){try{i&&setTimeout((function(s){s.click(),13!=t.which&&13!=t.keyCode||e.scrollIntoView()}),100,i)}catch(t){}})),i.addEventListener("click",(function(e){s.focus()}))):console.log("Error: Seems that some of the required HTML elements is missing to perform a search for sale persons!")})),document.addEventListener("DOMContentLoaded",(function(){$(".region-switcher").length&&$("body").on("click",".js-region-switcher li",(function(t){t.preventDefault();var s=$(".js-grid-persons"),i=$(".js-region-switcher");s.addClass("loading"),i.addClass("loading"),i.removeClass("open");for(var r=document.querySelectorAll(".js-region-switcher a"),n=0;n<r.length;n++)r[n].classList.remove("is-active");t.currentTarget.querySelector("a").classList.add("is-active");var a=$(this).children().attr("href");$(this).blur(),$.ajax({url:a,success:function(t,r,n){var o=function(e){return $($.trim(String(e).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi,"</div>")))}(t),c=o.find(".document-body:first"),d=c.find(".js-grid-persons"),l=c.find(".js-region-switcher");e&&window.history.replaceState(a,document.title,a),s.html(d.children()),i.html(l.children()),setTimeout((function(){$(".js-grid-persons").removeClass("loading"),$(".js-region-switcher").removeClass("loading")}),250)},error:function(e,t,s){return!1}})}))})),window.jQuery=window.$=jQuery})();