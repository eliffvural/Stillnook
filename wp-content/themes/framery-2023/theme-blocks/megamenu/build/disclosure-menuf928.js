document.addEventListener("DOMContentLoaded",(e=>{function t(){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{isMobile:e<=991,isTouch:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,mobileW:991,screenW:e,screenH:t}}const n=function(e){this.container=document,this.rootNode=e,this.triggerNodes=[],this.controlledNodes=[],this.openIndex=null,this.useArrowKeys=!1};function o(e){e.isMobile?(document.body.classList.remove("menu-desktop"),document.body.classList.add("menu-mobile")):(document.body.classList.remove("menu-mobile"),document.body.classList.add("menu-desktop"))}window.addEventListener("load",(function(e){o(t());for(var s=document.querySelectorAll(".disclosure-menu"),i=[],d=0;d<s.length;d++)i[d]=new n(s[d]),i[d].init(t())}),!1),window.addEventListener("resize",(function(e){o(t())}),!1),n.prototype.init=function(e){for(var t=this.rootNode.querySelectorAll(".disclosure-menu-toggle"),n=this.rootNode.querySelectorAll(".disclosure-menu>.menu-item-has-children"),o=0;o<t.length;o++){var s=t[o],i=s.parentNode.querySelector(".disclosure-submenu"),d=(s.parentNode,n[o]);if(i){this.triggerNodes.push(s,d),this.controlledNodes.push(i,d),s.setAttribute("aria-expanded","false"),this.toggleMenu(i,!1),i.addEventListener("keydown",this.handleMenuKeyDown.bind(this)),s.addEventListener("click",this.handleButtonClick.bind(this)),s.addEventListener("keydown",this.handleButtonKeyDown.bind(this));const e=s.parentNode.querySelector(".submenu-close");e&&(e.addEventListener("click",this.closeAllMenus.bind(this)),e.addEventListener("keydown",this.closeAllMenus.bind(this)))}}this.container.addEventListener("keydown",this.handleKeyDown.bind(this)),document.querySelector("#overlay").addEventListener("click",this.handleButtonClick.bind(this))},n.prototype.toggleMenu=function(e,t){e&&(t?(e.classList.remove("hidden"),e.classList.add("show"),document.body.classList.add("submenu-open")):(e.classList.add("hidden"),e.classList.remove("show"),document.body.classList.remove("submenu-open")))},n.prototype.toggleExpand=function(e,t){this.triggerNodes[e]&&(this.openIndex=t?e:null,this.triggerNodes[e].setAttribute("aria-expanded",t),this.toggleMenu(this.controlledNodes[e],t))},n.prototype.closeAllMenus=function(){for(var e=this.rootNode.querySelectorAll("button[aria-expanded][aria-controls]"),t=0;t<e.length;t++){var n=e[t],o=n.parentNode.querySelector(".disclosure-submenu");o&&(this.triggerNodes.push(n),this.controlledNodes.push(o),n.setAttribute("aria-expanded","false"),this.toggleMenu(o,!1))}},n.prototype.handleBlur=function(e){this.rootNode.contains(e.relatedTarget)||null===this.openIndex||this.toggleExpand(this.openIndex,!1)},n.prototype.handleKeyDown=function(e){"Escape"===e.key&&this.closeAllMenus()},n.prototype.handleButtonKeyDown=function(e){var t=this.triggerNodes.indexOf(document.activeElement);this.useArrowKeys&&this.openIndex===t&&"ArrowDown"===e.key&&(e.preventDefault(),this.controlledNodes[this.openIndex].querySelector("a").focus())},n.prototype.handleButtonClick=function(e){let t,n=e.target;if(n.classList.contains("menu-toggle")||(n=n.querySelector(".disclosure-menu-toggle")),t=this.triggerNodes.indexOf(n),null!==n){var o="true"===n.getAttribute("aria-expanded");this.closeFirstLevelMenus(this.triggerNodes[t]),this.toggleExpand(t,!o)}else this.closeAllMenus()},n.prototype.handleMenuKeyDown=function(e){null!==this.openIndex&&Array.prototype.slice.call(this.controlledNodes[this.openIndex].querySelectorAll("a")).indexOf(document.activeElement)},n.prototype.updateKeyControls=function(e){this.useArrowKeys=e},n.prototype.closeFirstLevelMenus=function(e){screenSizes=t(),e.classList.contains("toggle-level--1")&&!screenSizes.isMobile&&this.closeAllMenus()}})),document.addEventListener("DOMContentLoaded",(e=>{document.querySelector(".mobile-menu-toggle").addEventListener("click",(function(){const e=document.querySelector("#"+this.getAttribute("aria-controls"));"false"===this.getAttribute("aria-expanded")?(this.setAttribute("aria-expanded","true"),e.classList.remove("hidden"),document.body.classList.add("mobilemenu-open")):(this.setAttribute("aria-expanded","false"),e.classList.add("hidden"),document.body.classList.remove("mobilemenu-open"),document.querySelectorAll("button[aria-expanded][aria-controls]").forEach((e=>{const t=e.parentNode.querySelector(".disclosure-submenu");e.setAttribute("aria-expanded","false"),t.classList.remove("show"),t.classList.add("hidden"),document.body.classList.remove("submenu-open")})))}))}));